<%# views/user/profile/partials/_address.ejs %>
<div class="max-w-xl mx-auto md:mx-0 p-4 sm:p-6 bg-white rounded-lg shadow-md text-gray-900">
    <h2 class="text-2xl font-bold mb-6 text-gray-900 border-b border-gray-200 pb-3">My Addresses</h2>

    <div class="space-y-4">
        <% if (user && user.addresses && user.addresses.length > 0) { %>
            <% user.addresses.forEach(address => { %>
                <div class="border border-gray-200 p-4 rounded-md bg-gray-50">
                    <p class="font-semibold"><%= address.fullName %></p>
                    <p><%= address.streetAddress %>, <%= address.city %></p>
                    <p><%= address.state %>, <%= address.zipCode %></p>
                    <p>Phone: <%= address.phoneNumber %></p>
                    <div class="mt-3 flex gap-2">
                        <button class="text-blue-600 hover:underline text-sm">Edit</button>
                        <button class="text-red-600 hover:underline text-sm">Remove</button>
                    </div>
                </div>
            <% }); %>
        <% } else { %>
            <p class="text-gray-600">No addresses added yet.</p>
        <% } %>
    </div>

    <div class="mt-6 text-center">
        <button type="button" class="inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Add New Address
        </button>
    </div>
</div>

<%# Add client-side JS here for address management if needed, e.g., via a <script> block %>
<%# The script variable from profileMain.ejs handles the injection for the whole partial %>