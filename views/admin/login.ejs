<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIXOR | Admin Login</title>
    <link rel="stylesheet" href="/styles/admin/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- SweetAlert2 CSS - Keep this if you want SweetAlerts on this page -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>
    <section class="admin-login-container">
        <!-- Vxor Symbol Image -->
        <div class="vxor-logo-wrapper">
            <img src="/images/logo.png" alt="Vxor Symbol" class="vxor-symbol">
            <h1 class="vxor-brand-name"> ADMIN</h1>
        </div>

       
        <p>Enter your credentials to access the admin panel.</p>

        <form action="/admin/login" method="POST">
            <input type="email" name="email" placeholder="Admin E-mail" required value="<%= typeof oldEmail !== 'undefined' ? oldEmail : '' %>">
            <!-- Removed password-wrapper and forgot password link as requested -->
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">LOGIN</button>
        </form>

        <!-- Removed: "Don't have an account?", OR Divider, Google Login Button -->
    </section>

    <!-- SweetAlert2 JS - Keep this if you want SweetAlerts on this page -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const errorMessage = "<%= typeof errorMessage !== 'undefined' ? errorMessage : '' %>";
            const successMessage = "<%= typeof successMessage !== 'undefined' ? successMessage : '' %>";

            const urlParams = new URLSearchParams(window.location.search);
            const queryError = urlParams.get('error');
            const querySuccess = urlParams.get('success');

            if (errorMessage) {
                Swal.fire({
                    icon: 'error',
                    title: 'Login Failed',
                    text: errorMessage,
                    confirmButtonText: 'OK',
                    customClass: {
                        popup: 'swal-custom-popup',
                        title: 'swal-custom-title',
                        content: 'swal-custom-content',
                        confirmButton: 'swal-custom-confirm-button'
                    }
                });
            } else if (successMessage) {
                 Swal.fire({
                    icon: 'success',
                    title: 'Success!',
                    text: successMessage,
                    confirmButtonText: 'OK',
                    customClass: {
                        popup: 'swal-custom-popup',
                        title: 'swal-custom-title',
                        content: 'swal-custom-content',
                        confirmButton: 'swal-custom-confirm-button'
                    }
                });
            } else if (queryError) {
                Swal.fire({
                    icon: 'error',
                    title: 'Authentication Error',
                    text: decodeURIComponent(queryError),
                    confirmButtonText: 'OK',
                    customClass: {
                        popup: 'swal-custom-popup',
                        title: 'swal-custom-title',
                        content: 'swal-custom-content',
                        confirmButton: 'swal-custom-confirm-button'
                    }
                }).then(() => {
                    window.history.replaceState({}, document.title, window.location.pathname);
                });
            } else if (querySuccess) {
                 Swal.fire({
                    icon: 'success',
                    title: 'Success!',
                    text: decodeURIComponent(querySuccess),
                    confirmButtonText: 'OK',
                    customClass: {
                        popup: 'swal-custom-popup',
                        title: 'swal-custom-title',
                        content: 'swal-custom-content',
                        confirmButton: 'swal-custom-confirm-button'
                    }
                }).then(() => {
                    window.history.replaceState({}, document.title, window.location.pathname);
                });
            }
        });
    </script>
</body>
</html>